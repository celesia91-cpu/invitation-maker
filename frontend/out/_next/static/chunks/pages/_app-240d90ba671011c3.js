(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[888],{3837:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/_app",function(){return n(3414)}])},6177:function(e,t,n){"use strict";n.d(t,{W:function(){return s},m:function(){return c}});var r=n(5893),l=n(7294);let i=(0,l.createContext)(null),a={slides:[],activeIndex:0,playing:!1,imgState:{has:!1,natW:0,natH:0,cx:0,cy:0,scale:1,angle:0,shearX:0,shearY:0,signX:1,signY:1,flip:!1,backendImageId:null,backendImageUrl:null,backendThumbnailUrl:null},workSize:{w:800,h:450},selectedSlide:0,tokenBalance:0};function u(e,t){var n,r,l,i,a,u,s,c,E;switch(t.type){case"SET_SLIDES":return{...e,slides:null!==(n=t.slides)&&void 0!==n?n:[]};case"SET_ACTIVE_INDEX":return{...e,activeIndex:Math.max(0,0|t.index)};case"SET_PLAYING":return{...e,playing:!!t.playing};case"SET_WORK_SIZE":return{...e,workSize:{w:0|t.w,h:0|t.h}};case"UPDATE_IMG_STATE":return{...e,imgState:{...e.imgState,...null!==(r=t.patch)&&void 0!==r?r:{}}};case"ADD_TEXT_LAYER":{let n=e.slides.slice(),r=null!==(l=t.index)&&void 0!==l?l:e.activeIndex,s=null!==(i=n[r])&&void 0!==i?i:{image:null,layers:[],workSize:e.workSize,durationMs:3e3},c=(null!==(a=s.layers)&&void 0!==a?a:[]).concat({text:null!==(u=t.text)&&void 0!==u?u:"Text",left:16,top:16,fontSize:24,fontFamily:"system-ui",color:"#ffffff",_fadeInMs:0,_fadeOutMs:0});return n[r]={...s,layers:c},{...e,slides:n}}case"UPDATE_TEXT_LAYER":{let n=e.slides.slice(),r=null!==(s=t.index)&&void 0!==s?s:e.activeIndex,l=n[r];if(!l)return e;let i=l.layers.slice();if(!i[t.layer])return e;return i[t.layer]={...i[t.layer],...null!==(c=t.patch)&&void 0!==c?c:{}},n[r]={...l,layers:i},{...e,slides:n}}case"REMOVE_TEXT_LAYER":{let n=e.slides.slice(),r=null!==(E=t.index)&&void 0!==E?E:e.activeIndex,l=n[r];if(!l)return e;let i=l.layers.filter((e,n)=>n!==t.layer);return n[r]={...l,layers:i},{...e,slides:n}}case"SET_SELECTED_SLIDE":return{...e,selectedSlide:0|t.value};case"SET_TOKEN_BALANCE":return{...e,tokenBalance:0|t.value};default:return e}}function s(e){let{children:t}=e,[n,s]=(0,l.useReducer)(u,a),c=(0,l.useMemo)(()=>({...n,setSlides:e=>s({type:"SET_SLIDES",slides:e}),setActiveIndex:e=>s({type:"SET_ACTIVE_INDEX",index:e}),setPlaying:e=>s({type:"SET_PLAYING",playing:e}),setWorkSize:(e,t)=>s({type:"SET_WORK_SIZE",w:e,h:t}),updateImgState:e=>s({type:"UPDATE_IMG_STATE",patch:e}),addTextLayer:(e,t)=>s({type:"ADD_TEXT_LAYER",text:e,index:t}),updateTextLayer:(e,t,n)=>s({type:"UPDATE_TEXT_LAYER",layer:e,patch:t,index:n}),removeTextLayer:(e,t)=>s({type:"REMOVE_TEXT_LAYER",layer:e,index:t}),setSelectedSlide:e=>s({type:"SET_SELECTED_SLIDE",value:e}),setTokenBalance:e=>s({type:"SET_TOKEN_BALANCE",value:e})}),[n]);return(0,r.jsx)(i.Provider,{value:c,children:t})}function c(){let e=(0,l.useContext)(i);if(!e)throw Error("useAppState must be used within an AppStateProvider");return e}},3414:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return i}});var r=n(5893),l=n(6177);function i(e){let{Component:t,pageProps:n}=e;return(0,r.jsx)(l.W,{children:(0,r.jsx)(t,{...n})})}n(3434),n(981)},3434:function(){},981:function(){}},function(e){var t=function(t){return e(e.s=t)};e.O(0,[774,179],function(){return t(3837),t(3079)}),_N_E=e.O()}]);