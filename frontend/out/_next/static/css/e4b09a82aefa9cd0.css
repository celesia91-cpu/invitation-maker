.logo{height:6em;padding:1.5em;will-change:filter}.logo:hover{filter:drop-shadow(0 0 2em #646cffaa)}.logo.react:hover{filter:drop-shadow(0 0 2em #61dafbaa)}.card{padding:2em}.read-the-docs{color:#888}:root{--radius:14px;--panel-w:360px;--panel-h:45vh;--topbar-h:40px;--rsvp-height:48px;--muted:#475569;--accent:#2563eb;--accent-2:#7c3aed;--good:#16a34a;--success:#10b981;--warning:#f59e0b;--error:#ef4444;--panel-bg:#0b1220;--panel-border:#1f2a44;--text-primary:#e5e7eb;--text-secondary:#cbd5e1;--text-muted:#94a3b8;--card-bg:#1e293b;--card-border:#334155;--ring:0 0 0 4px rgba(37,99,235,.25);--shadow-sm:0 1px 2px rgba(0,0,0,.05);--shadow-md:0 4px 6px rgba(0,0,0,.1);--shadow-lg:0 10px 15px rgba(0,0,0,.1);--shadow-xl:0 20px 25px rgba(0,0,0,.1);--thumb-url:linear-gradient(135deg,#1f2937,#0f172a);--transition-fast:0.15s ease;--transition-base:0.25s ease;--transition-slow:0.35s ease;--collapse-duration:0.25s;--bg-grad:radial-gradient(1200px 800px at 10% 10%,rgba(124,58,237,.25),transparent 40%),radial-gradient(1200px 800px at 90% 20%,rgba(37,99,235,.22),transparent 45%),radial-gradient(1200px 800px at 50% 100%,rgba(2,132,199,.18),transparent 40%),#0b1120;--safe-top:env(safe-area-inset-top);--safe-right:env(safe-area-inset-right);--safe-bottom:env(safe-area-inset-bottom);--safe-left:env(safe-area-inset-left)}*,:after,:before{box-sizing:border-box}html{scroll-behavior:smooth}body,html{height:100%}body{margin:0;font-family:system-ui,-apple-system,Segoe UI,Roboto,Noto Sans,Ubuntu,Cantarell,Helvetica Neue,Arial,sans-serif;background:var(--bg-grad);color:var(--text-primary);transition:padding-left var(--transition-base),padding-top .2s ease;overflow-x:hidden;padding-top:var(--topbar-h);line-height:1.5;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;text-rendering:optimizeSpeed}@media (-webkit-min-device-pixel-ratio:2),(min-resolution:192dpi){body{text-rendering:optimizeLegibility}}.auth-modal{position:fixed;inset:0;background:rgba(11,18,32,.95);backdrop-filter:blur(8px);-webkit-backdrop-filter:blur(8px);display:none;align-items:center;justify-content:center;z-index:2000;padding:24px;animation:fadeIn .3s ease}.auth-modal.show{display:flex}.auth-card{background:linear-gradient(135deg,#0f1a2d,#1a2332);border:1px solid #26334f;border-radius:18px;padding:32px;width:100%;max-width:400px;box-shadow:var(--shadow-xl),0 24px 60px rgba(2,6,23,.8);text-align:center;animation:slideUp .3s ease}.auth-card h2{margin:0 0 8px;color:var(--text-primary);font-size:24px;font-weight:800}.auth-card p{margin:0 0 24px;color:var(--text-muted);font-size:14px;line-height:1.6}.form-group{margin-bottom:16px;text-align:left}.form-group label{display:block;margin-bottom:6px;color:var(--text-secondary);font-size:14px;font-weight:600}.form-group input{width:100%;padding:12px 16px;border:1px solid #26334f;border-radius:12px;background:#0b1630;color:var(--text-primary);font-size:14px;transition:border-color var(--transition-fast),box-shadow var(--transition-fast)}.form-group input:focus{outline:none;border-color:var(--accent);box-shadow:var(--ring)}.form-group input::placeholder{color:#64748b}.form-group input:invalid{border-color:var(--error)}.auth-error{background:rgba(239,68,68,.1);border:1px solid rgba(239,68,68,.3);border-radius:8px;padding:12px;margin-bottom:16px;color:#fca5a5;font-size:14px}.btn{-webkit-appearance:none;-moz-appearance:none;appearance:none;border:1px solid #26334f;background:#0b1630;color:var(--text-primary);font-weight:650;height:34px;padding:0 12px;border-radius:10px;cursor:pointer;max-width:100%;transition:all var(--transition-fast);display:inline-flex;align-items:center;justify-content:center;gap:6px;font-size:14px;text-decoration:none;white-space:nowrap}.btn:hover{background:#1a2332;border-color:#3a4a6a;transform:translateY(-1px);box-shadow:var(--shadow-md)}.btn:active{transform:translateY(0);box-shadow:var(--shadow-sm)}.btn:disabled{opacity:.6;cursor:not-allowed;transform:none;box-shadow:none}.btn.primary{background:linear-gradient(135deg,var(--accent),var(--accent-2));border-color:transparent;color:#fff}.btn.primary:hover{box-shadow:0 4px 16px rgba(37,99,235,.4);background:linear-gradient(135deg,#3b82f6,#8b5cf6)}.btn.success{background:linear-gradient(135deg,var(--success),#059669)}.btn.danger,.btn.success{border-color:transparent;color:#fff}.btn.danger{background:linear-gradient(135deg,var(--error),#dc2626)}.iconbtn{-webkit-appearance:none;-moz-appearance:none;appearance:none;border:1px solid #26334f;background:#0b1630;color:var(--text-primary);font-weight:800;height:28px;padding:0 10px;border-radius:8px;cursor:pointer;max-width:100%;font-size:12px;transition:all var(--transition-fast);display:inline-flex;align-items:center;justify-content:center}.iconbtn:hover{background:#1a2332;transform:translateY(-1px);box-shadow:var(--shadow-sm)}.iconbtn[disabled]{opacity:.5;cursor:not-allowed}.iconbtn.active,.iconbtn[aria-expanded=true]{border-color:var(--accent);background:rgba(37,99,235,.1);box-shadow:0 0 0 3px rgba(37,99,235,.25)}.pill{font-feature-settings:"tnum";font-variant-numeric:tabular-nums;font-size:11px;padding:2px 8px;border:1px solid #26334f;border-radius:999px;background:#0b1630;color:#93c5fd;display:inline-flex;gap:4px}.pill,.topbar{align-items:center}.topbar{position:fixed;left:0;right:0;top:0;z-index:90;display:flex;gap:6px;flex-wrap:wrap;min-height:var(--topbar-h);padding:6px 10px;border-bottom:1px solid #122037;background:linear-gradient(180deg,rgba(30,41,59,.65),rgba(2,6,23,.35));backdrop-filter:blur(6px);-webkit-backdrop-filter:blur(6px);transition:transform var(--transition-base),opacity var(--transition-base)}body.topbar-hidden{--topbar-h:0px;padding-top:0}body.topbar-hidden .topbar{transform:translateY(calc(-100% - 12px));opacity:0;pointer-events:none}body.topbar-hidden #topbarToggle{top:12px}.topbar .brand{display:flex;align-items:center;gap:8px;font-weight:900;letter-spacing:.2px;font-size:14px;color:var(--text-primary)}.brand .dot{width:10px;height:10px;border-radius:50%;background:var(--accent);box-shadow:0 0 0 3px rgba(37,99,235,.25)}.token-balance{color:var(--text-primary);margin-right:8px}.grow{flex:1 1}#topbarToggle{display:none}.sidepanel{position:fixed;left:0;right:auto;top:var(--topbar-h);bottom:0;z-index:70;width:var(--panel-w);max-width:90vw;height:calc(100dvh - var(--topbar-h));background:var(--panel-bg);border-right:1px solid var(--panel-border);box-shadow:var(--shadow-xl),0 24px 60px rgba(2,6,23,.55);display:flex;flex-direction:column;transform:translateX(-100%);transition:transform var(--transition-base);overflow:hidden}body.panel-open .sidepanel{transform:translateX(0)}.panel-header{padding:16px 12px 8px;border-bottom:1px solid var(--panel-border);background:linear-gradient(180deg,rgba(15,26,45,.8),transparent)}.panel-header h3{margin:0;font-size:16px;font-weight:800;color:var(--text-primary)}.panel-controls{display:flex;gap:8px;justify-content:flex-end}.panel-body{padding:12px;height:100%;overflow-y:auto;overflow-x:hidden;display:grid;grid-gap:12px;gap:12px;grid-auto-rows:max-content;-webkit-overflow-scrolling:touch;min-width:0;scrollbar-width:thin;scrollbar-color:#26334f #0b1220}.panel-body::-webkit-scrollbar{width:6px}.panel-body::-webkit-scrollbar-track{background:#0b1220}.panel-body::-webkit-scrollbar-thumb{background:#26334f;border-radius:3px}.panel-body::-webkit-scrollbar-thumb:hover{background:#3a4a6a}.group{border:1px solid var(--panel-border);border-radius:14px;padding:10px;background:#0f1a2d;min-width:0;max-width:100%;position:relative}.group-content{max-height:2000px;opacity:1;overflow:hidden;transition:max-height .25s ease-out,opacity .25s ease-out}.group.collapsed .group-content{max-height:0;opacity:0;transition:max-height .25s ease-in,opacity .25s ease-in}.group:hover{border-color:rgba(37,99,235,.3);background:rgba(15,26,45,.8)}.group-title{font-size:12px;text-transform:uppercase;letter-spacing:.12em;color:#9ca3af;margin-bottom:8px;font-weight:800;display:flex;align-items:center;gap:6px;width:100%;padding:0;border:0;background:none;cursor:pointer;font:inherit;text-align:left}.group-title:hover{color:#cbd5e1}.group-title:focus{outline:2px solid var(--accent);outline-offset:2px}.group-title .chevron{margin-left:auto;display:inline-flex;align-items:center;justify-content:center;flex-shrink:0;transition:transform var(--collapse-duration)}.group.collapsed .group-title .chevron{transform:rotate(-90deg)}.group-title:before{content:"";width:3px;height:12px;background:var(--group-accent,var(--accent));border-radius:2px}.group[data-group=slides]{--group-accent:var(--accent-2)}.group[data-group=text]{--group-accent:var(--success)}.row{display:flex;gap:10px;align-items:center;flex-wrap:wrap;min-width:0;max-width:100%}.row+.row{margin-top:8px}.row label{flex:0 0 120px;color:var(--text-secondary);font-size:12px;font-weight:700;min-width:0;max-width:100%}input[type=email],input[type=number],input[type=password],input[type=text],select,textarea{-webkit-appearance:none;-moz-appearance:none;appearance:none;border:1px solid var(--panel-border);background:#0b1630;height:38px;border-radius:10px;padding:0 10px;width:100%;outline:none;box-shadow:inset 0 1px 0 rgba(2,6,23,.4);font-size:14px;color:var(--text-primary);min-width:0;max-width:100%;transition:border-color var(--transition-fast),box-shadow var(--transition-fast);font-family:inherit}textarea{height:auto;min-height:76px;padding:10px;resize:vertical}input[type=email]::placeholder,input[type=password]::placeholder,input[type=text]::placeholder,textarea::placeholder{color:var(--text-muted)}input[type=email]:focus,input[type=number]:focus,input[type=password]:focus,input[type=text]:focus,select:focus,textarea:focus{box-shadow:var(--ring);border-color:var(--accent)}input[type=range]{width:100%;accent-color:var(--accent);min-width:0;max-width:100%;height:6px;border-radius:3px;background:#26334f;outline:none}input[type=range]::-webkit-slider-thumb{-webkit-appearance:none;appearance:none;width:18px;height:18px;border-radius:50%;background:var(--accent);cursor:pointer;box-shadow:0 2px 4px rgba(0,0,0,.2);-webkit-transition:all var(--transition-fast);transition:all var(--transition-fast)}input[type=range]::-webkit-slider-thumb:hover{transform:scale(1.1);box-shadow:0 2px 8px rgba(37,99,235,.4)}input[type=color]{width:100%;height:36px;border-radius:10px;border:1px solid var(--panel-border);padding:0;background:#0b1630;cursor:pointer;min-width:0;max-width:100%;transition:border-color var(--transition-fast)}input[type=color]:hover{border-color:var(--accent)}.text-style-btns{display:flex;gap:8px;min-width:0}.text-style-btns button{flex:1 1;min-width:0;-webkit-appearance:none;-moz-appearance:none;appearance:none;border:1px solid var(--panel-border);background:#0b1630;color:var(--text-primary);height:32px;border-radius:8px;font-weight:900;cursor:pointer;overflow:hidden;text-overflow:ellipsis;transition:all var(--transition-fast)}.text-style-btns button:hover{background:#1a2332;border-color:var(--accent)}.text-style-btns button.active{background:linear-gradient(135deg,var(--accent),var(--accent-2));color:#fff;border-color:transparent}.preset-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(96px,1fr));grid-gap:10px;gap:10px;width:100%;min-width:0}.preset-btn{display:flex;flex-direction:column;align-items:center;gap:6px;padding:8px;border:1px solid var(--panel-border);border-radius:12px;background:#0b1630;color:var(--text-primary);cursor:pointer;min-width:0;max-width:100%;transition:all var(--transition-fast);text-decoration:none}.preset-btn:hover{border-color:var(--accent);background:#1a2332;transform:translateY(-2px);box-shadow:var(--shadow-md)}.preset-btn[aria-pressed=true]{border-color:var(--accent);box-shadow:0 0 0 3px rgba(37,99,235,.25);background:rgba(37,99,235,.1)}.preset-icon{width:54px;height:54px;border-radius:10px;background-image:var(--thumb-url);background-size:cover;background-position:50%;box-shadow:inset 0 1px 3px rgba(2,6,23,.55);transition:transform var(--transition-fast)}.preset-btn:hover .preset-icon{transform:scale(1.05)}.preset-label{font-size:12px;color:var(--text-secondary);font-weight:800;text-align:center;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:100%}.slides-strip{display:flex;gap:6px;overflow:auto;padding:2px 0;scrollbar-width:thin;scrollbar-color:#26334f transparent}.slides-strip::-webkit-scrollbar{height:4px}.slides-strip::-webkit-scrollbar-track{background:transparent}.slides-strip::-webkit-scrollbar-thumb{background:#26334f;border-radius:2px}.slide-chip{min-width:40px;height:32px;padding:0 10px;border-radius:8px;border:1px solid var(--panel-border);background:#0b1630;color:var(--text-primary);font-weight:900;cursor:pointer;transition:all var(--transition-fast);display:flex;align-items:center;justify-content:center}.slide-chip:hover{background:#1a2332;border-color:var(--accent)}.slide-chip.active{background:linear-gradient(135deg,var(--accent),var(--accent-2));color:#fff;border-color:transparent}.backdrop{display:none;z-index:60;position:fixed;inset:0;background:rgba(0,0,0,.5);backdrop-filter:blur(4px);-webkit-backdrop-filter:blur(4px)}.stage{min-height:calc(100dvh - var(--topbar-h));display:grid;place-items:center;padding:8px;padding-bottom:calc(8px + var(--safe-bottom))}.wrap{width:min(96vw,calc((16 / 9) * (100dvh - var(--topbar-h) - 16px)),1280px);aspect-ratio:16/9;position:relative;border-radius:24px;background:#0b1325;box-shadow:0 30px 80px rgba(2,6,23,.6),inset 0 0 0 2px #0b203d;overflow:hidden;transform-origin:center center;transition:all var(--transition-slow)}#work{position:relative;width:100%;height:100%;border-radius:inherit;overflow:hidden;touch-action:none;cursor:default}#work,.layer{-moz-user-select:none;user-select:none;-webkit-user-select:none}.layer{position:absolute;z-index:30}.layer,.layer.text-layer{min-width:20px;min-height:20px;word-wrap:break-word;cursor:move;outline:none}.layer.text-layer{resize:none;user-select:none;-webkit-user-select:none;-moz-user-select:none;transition:all .2s ease;position:relative}.layer:hover:not(.active):not(.dragging):not(.resizing):not(.editing){outline:1px solid rgba(96,165,250,.6);outline-offset:1px}.layer.active:not(.editing):not(.dragging),.layer.text-layer.active:not(.editing):not(.dragging){transition:outline .2s ease,box-shadow .2s ease}.layer.active:not(.editing):not(.dragging),.layer.text-layer.active:not(.editing):not(.dragging),.layer.text-layer[class*=active]:not(.editing):not(.dragging){outline:2px solid rgba(37,99,235,.8)!important;outline-offset:2px!important;box-shadow:0 0 0 4px rgba(37,99,235,.15)!important}.layer.text-layer.editing{cursor:text!important;user-select:text!important;-webkit-user-select:text!important;-moz-user-select:text!important;outline:2px solid rgba(16,185,129,.8)!important;outline-offset:2px!important;box-shadow:0 0 0 4px rgba(16,185,129,.2)!important;background:hsla(0,0%,100%,.05);-webkit-backdrop-filter:blur(2px);backdrop-filter:blur(2px);border-radius:4px;padding:2px 4px;margin:-2px -4px;z-index:50}.layer.text-layer.editing::selection{background:rgba(59,130,246,.3)}.layer.text-layer.editing::-moz-selection{background:rgba(59,130,246,.3)}.layer.text-layer.editing:focus{outline:2px solid #10b981!important;box-shadow:0 0 0 4px rgba(16,185,129,.3)!important}.layer.text-layer.editing:empty:before{content:"Type your text here...";color:hsla(0,0%,100%,.5);font-style:italic;pointer-events:none}.layer.text-layer.editing:after,.layer.text-layer.editing:before{display:none!important}.layer.dragging,.layer.text-layer.dragging{cursor:-webkit-grabbing!important;cursor:grabbing!important;outline:2px solid rgba(124,58,237,.8)!important;box-shadow:0 4px 12px rgba(0,0,0,.3),0 0 0 4px rgba(124,58,237,.2)!important;z-index:100;transition:none;-moz-user-select:none!important;user-select:none!important;-webkit-user-select:none!important}.layer.text-layer.dragging,.layer.text-layer.dragging *{pointer-events:none}.layer.text-layer.active:not(.editing):not(.dragging):after{content:"";position:absolute;bottom:-2px;right:-2px;width:12px;height:12px;background:linear-gradient(-45deg,transparent 40%,#2563eb 0,#2563eb 60%,transparent 0);cursor:se-resize;opacity:.7;pointer-events:auto;transition:opacity .2s ease;z-index:1}.layer.text-layer.active:not(.editing):not(.dragging):hover:after{opacity:1}.layer.text-layer:not(.editing):not(.dragging):before{content:"Double-click to edit";position:absolute;top:-30px;left:50%;transform:translateX(-50%);background:rgba(0,0,0,.8);color:#fff;padding:4px 8px;border-radius:4px;font-size:12px;white-space:nowrap;opacity:0;pointer-events:none;transition:opacity .2s ease;z-index:1000;font-family:system-ui,-apple-system,sans-serif;font-weight:500}.layer.text-layer.active:not(.editing):not(.dragging):hover:before{opacity:1}.layer.text-layer.editing[contenteditable=true]{overflow:visible;white-space:pre-wrap;word-break:break-word;line-height:inherit}.layer.text-layer:not(.dragging):not(.editing){transition:outline .2s ease,box-shadow .2s ease,background .2s ease}.layer.resizing{cursor:ew-resize!important;outline:2px solid rgba(16,185,129,.8)!important;box-shadow:0 0 0 4px rgba(16,185,129,.15)!important;transition:none}.layer.selected{outline:2px solid rgba(37,99,235,.8);outline-offset:1px}.layer.multi-selected{outline:2px dashed rgba(124,58,237,.8);outline-offset:1px}.guide{position:absolute;pointer-events:none;z-index:50;opacity:0;transition:opacity var(--transition-fast)}.guide.visible{opacity:1}.guide.v{top:0;bottom:0;left:50%;width:1px;background:linear-gradient(180deg,transparent 0,rgba(96,165,250,.9) 20%,rgba(96,165,250,.9) 80%,transparent);transform:translateX(-.5px)}.guide.h{left:0;right:0;top:50%;height:1px;background:linear-gradient(90deg,transparent 0,rgba(96,165,250,.9) 20%,rgba(96,165,250,.9) 80%,transparent);transform:translateY(-.5px)}#vGuide{top:0;bottom:0;left:50%;width:1px;background:linear-gradient(180deg,transparent 0,rgba(96,165,250,.9) 20%,rgba(96,165,250,.9) 80%,transparent);transform:translateX(-.5px)}#hGuide,#vGuide{position:absolute;pointer-events:none;z-index:50;opacity:0;transition:opacity var(--transition-fast);display:none}#hGuide{left:0;right:0;top:50%;height:1px;background:linear-gradient(90deg,transparent 0,rgba(96,165,250,.9) 20%,rgba(96,165,250,.9) 80%,transparent);transform:translateY(-.5px)}#hGuide.visible,#vGuide.visible{opacity:1;display:block}#userBgWrap{position:absolute;left:50%;top:50%;transform-origin:center;width:0;height:0}#userBg{width:100%;height:100%}#bgBox{position:absolute;left:50%;top:50%;width:0;height:0;transform-origin:center;border:1.5px dashed #60a5fa;box-shadow:inset 0 0 0 1px rgba(59,130,246,.25),0 2px 8px rgba(0,0,0,.15);z-index:20;touch-action:none;transition:opacity var(--transition-fast),border-color var(--transition-fast);will-change:transform;border-radius:4px}#bgBox.hidden{opacity:0;pointer-events:none}#bgBox.dragging{border-color:#7c3aed;box-shadow:inset 0 0 0 1px rgba(124,58,237,.35),0 4px 16px rgba(0,0,0,.25)}.handle{position:absolute;width:14px;height:14px;background:linear-gradient(135deg,#0b1630,#1e293b);border:2px solid #2563eb;border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,.4),inset 0 0 0 1px hsla(0,0%,100%,.1);touch-action:none;z-index:21;transition:all var(--transition-fast);cursor:pointer;will-change:transform}.handle:hover{transform:scale(1.15);border-color:#3b82f6;box-shadow:0 3px 6px rgba(0,0,0,.5),inset 0 0 0 1px hsla(0,0%,100%,.2),0 0 0 4px rgba(59,130,246,.2)}.handle:active{transform:scale(.95)}.handle.nw{left:-7px;top:-7px;cursor:nwse-resize}.handle.ne{right:-7px;top:-7px;cursor:nesw-resize}.handle.se{right:-7px;bottom:-7px;cursor:nwse-resize}.handle.sw{left:-7px;bottom:-7px;cursor:nesw-resize}.handle.rotate{left:50%;top:-32px;transform:translateX(-50%);width:16px;height:16px;cursor:-webkit-grab;cursor:grab;border-color:#7c3aed;background:linear-gradient(135deg,#0b1630,#2d1b69)}.handle.rotate:hover{border-color:#8b5cf6;transform:translateX(-50%) scale(1.15)}.handle.rotate:active{cursor:-webkit-grabbing;cursor:grabbing;transform:translateX(-50%) scale(.95)}.handle.rotate:before{content:"";position:absolute;top:50%;left:50%;width:6px;height:6px;background:#7c3aed;border-radius:50%;transform:translate(-50%,-50%)}.rsvp{position:absolute;left:14px;right:14px;bottom:14px;z-index:45;display:flex;gap:8px;flex-wrap:wrap;pointer-events:auto;transition:all var(--transition-base);padding:8px;border-radius:16px;background:rgba(11,22,32,.8);backdrop-filter:blur(12px);-webkit-backdrop-filter:blur(12px);border:1px solid hsla(0,0%,100%,.1)}.rsvp,.rsvp-btn{justify-content:center}.rsvp-btn{-webkit-appearance:none;-moz-appearance:none;appearance:none;border:1px solid #26334f;background:#0b1630;color:var(--text-primary);height:40px;padding:0 16px;border-radius:12px;font-weight:700;cursor:pointer;transition:all var(--transition-fast);position:relative;overflow:hidden;display:inline-flex;align-items:center;gap:6px;font-size:14px;text-decoration:none;white-space:nowrap;min-width:80px}.rsvp-btn:hover{background:#1a2332;transform:translateY(-2px);box-shadow:0 6px 16px rgba(0,0,0,.2);border-color:var(--accent)}.rsvp-btn:active{transform:translateY(0);box-shadow:0 2px 4px rgba(0,0,0,.2)}.rsvp-btn.primary{background:linear-gradient(135deg,var(--accent),var(--accent-2));border-color:transparent;color:#fff}.rsvp-btn.primary:hover{box-shadow:0 6px 20px rgba(37,99,235,.4);background:linear-gradient(135deg,#3b82f6,#8b5cf6)}.rsvp-btn.active{box-shadow:0 0 0 3px rgba(37,99,235,.35);background:#1a2332;border-color:var(--accent)}.rsvp-btn.confirmed{background:linear-gradient(135deg,var(--success),#059669)!important;border-color:transparent!important;color:#fff!important;box-shadow:0 4px 12px rgba(16,185,129,.3)!important}.rsvp-btn.confirmed:hover{box-shadow:0 6px 20px rgba(16,185,129,.4)!important;transform:translateY(-2px);background:linear-gradient(135deg,#10b981,#047857)!important}.rsvp-btn.confirmed:before{content:"\\2713 ";font-weight:700;margin-right:4px}.rsvp-btn[data-response=yes].confirmed{background:linear-gradient(135deg,#10b981,#059669)!important}.rsvp-btn[data-response=maybe].confirmed{background:linear-gradient(135deg,#f59e0b,#d97706)!important}.rsvp-btn[data-response=no].confirmed{background:linear-gradient(135deg,#6b7280,#4b5563)!important}#rsvpBar.viewer-mode,body.preview #rsvpBar,body.viewer #rsvpBar{display:flex;visibility:visible;opacity:1;position:fixed;bottom:max(12px,var(--safe-bottom));left:max(12px,var(--safe-left));right:max(12px,var(--safe-right));z-index:1200;pointer-events:auto;transform:none;background:rgba(11,22,32,.95);backdrop-filter:blur(12px);-webkit-backdrop-filter:blur(12px);border:1px solid hsla(0,0%,100%,.15);box-shadow:0 8px 32px rgba(0,0,0,.3)}body.viewer #bgBox,body.viewer #topbarToggle,body.viewer #uploadBgBtn,body.viewer .guide,body.viewer .handle,body.viewer .sidepanel,body.viewer .topbar{display:none!important}body.viewer{padding-top:0!important;padding-left:0!important}body.viewer .stage{min-height:100vh!important;padding:0!important;display:flex!important;align-items:center!important;justify-content:center!important}body.viewer .wrap{aspect-ratio:16/9;width:100%;height:auto;max-width:100%;max-height:100%;position:static;transform:none;border-radius:0;box-shadow:none}@media (orientation:landscape){body.viewer .wrap{width:auto;height:100%}}@media (orientation:portrait){#work{max-height:60vh}body.viewer .wrap{width:100%;height:auto}}body.viewer #work{position:relative;border-radius:inherit;overflow:hidden}body.viewer #fxVideo{border-radius:inherit;pointer-events:none}body.viewer #userBgWrap{pointer-events:none}body.viewer #userBg{width:100%;height:100%;pointer-events:none;border-radius:inherit}body.viewer .layer{cursor:default!important;pointer-events:none!important}body.viewer .layer,body.viewer .layer:hover{outline:none!important}#uploadBgBtn{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);z-index:40;background:rgba(2,6,23,.8);color:#fff;border:1px solid hsla(0,0%,100%,.2);border-radius:12px;padding:12px 20px;font-size:14px;font-weight:700;cursor:pointer;backdrop-filter:blur(8px);-webkit-backdrop-filter:blur(8px);box-shadow:0 8px 32px rgba(2,6,23,.6);transition:all var(--transition-fast)}#uploadBgBtn:hover{background:rgba(2,6,23,.9);transform:translate(-50%,-50%) translateY(-2px);box-shadow:0 12px 40px rgba(2,6,23,.8)}#uploadBgBtn:active{transform:translate(-50%,-50%)}#bgFileInput{display:none}body.preview .sidepanel{transform:translateX(-100%)!important}body.preview #bgBox,body.preview .backdrop{display:none!important}body.preview .layer{cursor:default!important;pointer-events:none!important}body.preview .layer,body.preview .layer:hover{outline:none!important}body.preview #hGuide,body.preview #uploadBgBtn,body.preview #vGuide,body.preview .guide,body.preview .handle{display:none!important}@media (pointer:coarse){.layer,.layer.text-layer{cursor:pointer}.handle{width:20px;height:20px}.handle.nw{left:-10px;top:-10px}.handle.ne{right:-10px;top:-10px}.handle.se{right:-10px;bottom:-10px}.handle.sw{left:-10px;bottom:-10px}.handle.rotate{width:24px;height:24px;top:-40px}.layer.text-layer.active:not(.editing):after{width:18px;height:18px;bottom:-5px;right:-5px;opacity:.8}.layer.text-layer:not(.editing):before{content:"Tap twice to edit"}.btn,.iconbtn{min-height:44px}.rsvp-btn{min-height:48px;padding:0 20px}}@media (min-width:960px){body.panel-open{padding-left:var(--panel-w)}}@media (max-width:768px){body.viewer.mobile #fxVideo,body.viewer.mobile #userBg,body.viewer.mobile #work{border-radius:0}#rsvpBar.viewer-mode,body.preview #rsvpBar,body.viewer #rsvpBar{left:max(8px,var(--safe-left));right:max(8px,var(--safe-right));bottom:max(8px,var(--safe-bottom))}.handle{width:18px;height:18px}.handle.nw{left:-9px;top:-9px}.handle.ne{right:-9px;top:-9px}.handle.se{right:-9px;bottom:-9px}.handle.sw{left:-9px;bottom:-9px}.handle.rotate{width:20px;height:20px;top:-36px}.layer.text-layer.active:not(.editing):after{width:16px;height:16px;bottom:-4px;right:-4px}.layer.text-layer:not(.editing):before{font-size:11px;padding:3px 6px;top:-28px}.rsvp-btn{flex:1 1 45%;height:48px;font-size:16px;padding:0 20px}.sidepanel{left:0;right:0;top:auto;bottom:0;width:100%;height:var(--panel-h);transform:translateY(100%)}.panel-body{display:flex;flex-direction:row;overflow-x:auto;overflow-y:hidden;-webkit-overflow-scrolling:touch;scroll-snap-type:x mandatory;gap:0}.panel-body .group{flex:0 0 85vw;scroll-snap-align:start;margin-right:12px}body.panel-open .sidepanel{transform:translateY(0)}body.panel-open{padding-left:0;padding-bottom:var(--panel-h)}.backdrop{display:none}.panel-open .backdrop{display:block;position:fixed;inset:var(--topbar-h) 0 0 0;background:rgba(0,0,0,.6);backdrop-filter:blur(4px);-webkit-backdrop-filter:blur(4px)}.row{flex-direction:column;align-items:stretch}.row label{flex:unset;width:auto;margin-bottom:4px}body.panel-open:not(.preview):not(.viewer) .rsvp{opacity:.3;pointer-events:none;transform:translateY(10px)}}@media (max-width:599px){:root{--topbar-h:56px}.topbar{padding:8px 12px;gap:8px}.brand{font-size:13px;gap:6px;letter-spacing:.1px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.brand .dot{width:8px;height:8px;box-shadow:0 0 0 3px rgba(37,99,235,.25)}.topbar .brand{flex:1 1 100%;justify-content:center;font-size:15px}.topbar .grow{display:none}.topbar .iconbtn{height:36px;padding:0 14px;border-radius:10px;font-size:14px}#topbarToggle{display:flex;align-items:center;justify-content:center;position:fixed;left:50%;transform:translateX(-50%);top:calc(var(--topbar-h) - 1px);height:32px;padding:0 12px;border-radius:999px;z-index:96;border:1px solid #26334f;background:#0b1630;color:var(--text-primary);font-weight:800;font-size:13px;box-shadow:0 8px 18px rgba(37,99,235,.18);transition:all var(--transition-fast)}#topbarToggle:hover{box-shadow:0 8px 24px rgba(37,99,235,.25);transform:translateX(-50%) translateY(-1px)}.mb-topbar-collapsed .topbar .mb-hide-when-collapsed{display:none}.rsvp{gap:6px;left:10px;right:10px;bottom:10px;padding:6px}.rsvp-btn{font-weight:700}input[type=email],input[type=password],input[type=text],select{font-size:16px}.rsvp{flex-direction:column;align-items:stretch;gap:8px}.rsvp-btn{width:100%;padding:0 16px}.preset-grid{grid-template-columns:repeat(auto-fill,minmax(80px,1fr))}.slides-strip{gap:4px}.slide-chip{min-width:36px;height:28px;font-size:12px}body.panel-open:not(.preview):not(.viewer) .rsvp{opacity:.3;pointer-events:none;transform:translateY(10px)}}.layer:focus-visible{outline:3px solid rgba(37,99,235,.8)!important;outline-offset:2px!important}.layer.text-layer.editing:focus-visible{outline:3px solid rgba(16,185,129,.8)!important;outline-offset:2px!important}.handle:focus-visible{outline:2px solid rgba(96,165,250,.8);outline-offset:2px}.btn:focus-visible,.category-tab:focus-visible,.iconbtn:focus-visible,.rsvp-btn:focus-visible{outline:none;box-shadow:0 0 0 3px rgba(37,99,235,.5)}.rsvp-btn.confirmed:focus-visible{box-shadow:0 0 0 3px rgba(16,185,129,.5)}@media (prefers-contrast:high){.layer.active:not(.editing){outline:3px solid #fff!important;background:rgba(0,0,0,.1)}.layer.text-layer.editing{outline:3px solid #0f0!important;background:rgba(0,255,0,.1)}.layer.text-layer.dragging{outline:3px solid #f0f!important;background:rgba(255,0,255,.1)}.handle{background:#000}#bgBox,.handle{border-color:#fff}#hGuide,#vGuide,.guide{background:#fff!important}.rsvp,.rsvp-btn{border:2px solid #fff;background:#000}.rsvp-btn{color:#fff}.rsvp-btn.confirmed{background:#fff!important;color:#000!important}}@media (prefers-reduced-motion:reduce){*,:after,:before{animation-duration:.01ms!important;animation-iteration-count:1!important;transition-duration:.01ms!important;scroll-behavior:auto!important}.layer.text-layer,.layer.text-layer:after,.layer.text-layer:before{transition:none!important}}@media (prefers-color-scheme:dark){:root{--text-primary:#f8fafc;--text-secondary:#e2e8f0;--text-muted:#94a3b8}.layer.active:not(.editing){outline-color:rgba(96,165,250,.9)!important;box-shadow:0 0 0 4px rgba(96,165,250,.2)!important}.layer.text-layer.editing{outline-color:rgba(34,197,94,.9)!important;box-shadow:0 0 0 4px rgba(34,197,94,.2)!important}.layer.text-layer.dragging{outline-color:rgba(147,51,234,.9)!important;box-shadow:0 4px 12px rgba(0,0,0,.4),0 0 0 4px rgba(147,51,234,.3)!important}.handle{background:linear-gradient(135deg,#1e293b,#0f172a);border-color:#3b82f6}.handle.rotate{background:linear-gradient(135deg,#1e293b,#4c1d95);border-color:#8b5cf6}.rsvp{background:rgba(15,23,42,.95);border-color:rgba(148,163,184,.2)}.rsvp-btn{border-color:#374151;background:#1f2937}.rsvp-btn:hover{background:#374151}}#bgBox,.handle,.layer,.rsvp{will-change:transform;backface-visibility:hidden;-webkit-backface-visibility:hidden}body.dragging .handle:not(:active),body.dragging .layer:not(.dragging){transition:none;will-change:auto}body.dragging #bgBox:not(.dragging){transition:none}body.dragging,body.resizing{-moz-user-select:none;user-select:none;-webkit-user-select:none}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}@keyframes slideUp{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}@keyframes rsvpFadeIn{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}@keyframes spin{to{transform:translate(-50%,-50%) rotate(1turn)}}.fs-overlay{position:fixed;inset:0;z-index:1000;display:none;align-items:center;justify-content:center;text-align:center;padding:24px;background:linear-gradient(180deg,#0b0b22f0,#0b0b22e6);backdrop-filter:blur(8px);-webkit-backdrop-filter:blur(8px)}.fs-overlay.show{display:flex;animation:fadeIn .3s ease}.fs-card{max-width:min(92vw,480px);color:#eef1ff;background:#111432cc;border:1px solid #ffffff26;border-radius:18px;padding:20px;box-shadow:var(--shadow-xl),inset 0 0 80px #ffffff0a;animation:slideUp .3s ease}.rotate-overlay{position:fixed;inset:0;z-index:1000;display:none;align-items:center;justify-content:center;text-align:center;padding:24px;background:linear-gradient(180deg,#0b0b22f0,#0b0b22e6);backdrop-filter:blur(8px);-webkit-backdrop-filter:blur(8px)}.rotate-overlay.show{display:flex;animation:fadeIn .3s ease}.fs-card h2{margin:.1em 0 .35em;font-size:1.35rem;font-weight:800}.fs-card p{margin:.25em 0 .9em;color:#cfd2ff;line-height:1.6}.fs-btn{-webkit-appearance:none;-moz-appearance:none;appearance:none;border:0;cursor:pointer;padding:.85rem 1.15rem;border-radius:12px;font-weight:700;letter-spacing:.02em;color:#0b0b22;background:var(--accent);box-shadow:0 10px 30px #2563eb55,inset 0 1px 0 #ffffffcc;width:100%;transition:all var(--transition-fast)}.fs-btn:hover{background:#3b82f6;transform:translateY(-2px);box-shadow:0 12px 35px #2563eb66,inset 0 1px 0 #ffffffcc}@media print{#bgBox,#uploadBgBtn,.backdrop,.guide,.handle,.layer.text-layer:after,.layer.text-layer:before,.rsvp,.sidepanel,.topbar{display:none!important}body{background:#fff!important;color:#000!important}.stage,body{padding:0!important}.stage{min-height:auto!important}.wrap{width:100%!important;height:auto!important;border-radius:0!important;page-break-inside:avoid}.layer,.wrap{box-shadow:none!important}.layer{outline:none!important;background:none!important}}.hint{margin:8px 0 0;color:var(--text-muted);font-size:12px;line-height:1.4}.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0}.text-center{text-align:center}.text-left{text-align:left}.text-right{text-align:right}.hidden{display:none!important}.visible{display:block!important}.flex{display:flex}.grid{display:grid}.items-center{align-items:center}.items-start{align-items:flex-start}.items-end{align-items:flex-end}.justify-center{justify-content:center}.justify-start{justify-content:flex-start}.justify-end{justify-content:flex-end}.justify-between{justify-content:space-between}.gap-1{gap:4px}.gap-2{gap:8px}.gap-3{gap:12px}.gap-4{gap:16px}.w-full{width:100%}.h-full{height:100%}.opacity-0{opacity:0}.opacity-50{opacity:.5}.opacity-100{opacity:1}.skip-link{position:absolute;top:-40px;left:6px;background:var(--accent);color:#fff;padding:8px;text-decoration:none;border-radius:4px;z-index:9999}.skip-link:focus{top:6px}.debug-positioning{position:fixed;top:10px;right:10px;background:rgba(0,0,0,.8);color:#fff;padding:10px;border-radius:8px;font-family:monospace;font-size:12px;z-index:9999;pointer-events:none}.marketplace-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(220px,1fr));grid-gap:16px;gap:16px;margin-top:24px}.marketplace-card{background:rgba(11,22,48,.85);border:1px solid #26334f;border-radius:12px;padding:16px;display:flex;flex-direction:column;gap:12px}.marketplace-card-title{display:flex;align-items:center;gap:8px;margin:0;font-size:18px;font-weight:600}.marketplace-card-title-text{flex:1 1;min-width:0}.marketplace-status-badge{background:#26334f;color:#fff;padding:2px 10px;border-radius:999px;font-size:12px;font-weight:600;line-height:1.2;white-space:nowrap;text-transform:capitalize}.marketplace-status-badge.status-published{background:#1f7a53}.marketplace-status-badge.status-draft{background:#b8860b}.marketplace-status-badge.status-archived{background:#5c667a}.marketplace-layout{display:flex;gap:24px;align-items:flex-start}.category-sidebar{width:200px;flex-shrink:0}#designSearch{width:100%;padding:8px;border-radius:4px;border:1px solid #26334f;background:#0b1630;color:#fff}.category-tabs{list-style:none;margin:16px 0 0;padding:0;display:flex;flex-direction:column;gap:8px}.category-tabs li{margin:0}.category-tab{width:100%;padding:8px 12px;border-radius:4px;background:none;border:none;color:inherit;text-align:left;font:inherit;cursor:pointer}.category-tab.active,.category-tab[aria-selected=true]{background:#26334f}.design-card{background:var(--card-bg);border:1px solid var(--card-border);border-radius:12px;overflow:hidden;display:flex;flex-direction:column;transition:transform var(--transition-fast),box-shadow var(--transition-fast);outline:none}.design-card:focus,.design-card:hover{transform:translateY(-4px);box-shadow:var(--shadow-lg)}.design-card:focus{box-shadow:var(--shadow-lg),var(--ring)}.design-thumb{width:100%;aspect-ratio:16/9;object-fit:cover;display:block;transition:transform var(--transition-base)}.design-card:focus .design-thumb,.design-card:hover .design-thumb{transform:scale(1.05)}.design-info{padding:12px;display:flex;flex-direction:column;gap:8px}.design-title{font-weight:600;font-size:14px}.design-meta{display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap;gap:8px}.design-meta .badge{background:var(--accent);color:#fff;padding:2px 8px;border-radius:8px;font-size:12px}.price-label{font-size:12px;color:var(--text-secondary)}.design-actions{margin-top:auto;padding:12px;display:flex;justify-content:flex-end}.preview-modal{position:fixed;inset:0;background:rgba(0,0,0,.75);display:flex;align-items:center;justify-content:center;z-index:2500;padding:16px}.preview-content{background:var(--panel-bg);border:1px solid var(--panel-border);border-radius:12px;max-width:90%;max-height:90%;overflow-y:auto;padding:24px;display:flex;flex-direction:column;gap:16px}.preview-content .preview-close{align-self:flex-end}.purchase-modal{position:fixed;inset:0;background:rgba(0,0,0,.75);display:flex;align-items:center;justify-content:center;z-index:2600;padding:16px}.purchase-content{background:var(--panel-bg);border:1px solid var(--panel-border);border-radius:12px;padding:24px;display:flex;flex-direction:column;gap:16px;text-align:center}.purchase-actions{display:flex;gap:12px;justify-content:center}.preview-slides img{width:100%;display:block;border-radius:8px;margin-bottom:12px}.preview-actions{display:flex;justify-content:flex-end}